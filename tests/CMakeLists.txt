include(AwsTestHarness)
enable_testing()

file(GLOB TEST_HDRS "*.h")
file(GLOB TEST_SRC "*.c")
file(GLOB TESTS ${TEST_HDRS} ${TEST_SRC})

add_test_case(http_test_get_version)
add_test_case(http_test_get_uri)
add_test_case(http_test_get_status_code)
add_test_case(http_test_overflow_scratch_space)
add_test_case(http_test_receive_request_headers)
add_test_case(http_test_receive_response_headers)
add_test_case(http_test_get_transfer_encoding_flags)
add_test_case(http_test_body_unchunked)
add_test_case(http_test_body_chunked)
add_test_case(http_decode_trailers)
add_test_case(http_decode_one_byte_at_a_time)
add_test_case(http_decode_messages_at_random_intervals)
add_test_case(http_decode_bad_messages_and_assert_failure)
add_test_case(http_test_extraneous_buffer_data_ensure_not_processed)
add_test_case(http_test_ignore_transfer_extensions)
add_test_case(http_test_ignore_chunk_extensions)

generate_test_driver(${CMAKE_PROJECT_NAME}-tests)
